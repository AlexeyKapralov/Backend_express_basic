<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="26bf12fa-1c19-43fd-bd80-8f598efb16f4" name="Changes" comment="Update login service and refactor tests&#10;&#10;The code has been updated to enhance the login service that now receives additional parameters. Related tests have been refactored for this change. Files related to handling blocklist functionality have been removed. The auth test file has been renamed, and a new test file for refresh token has been added. The integration test for logout has been updated. The mechanism to handle devices for security has been introduced.">
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/__tests__/integration/auth/logoutUser.integration.ts" beforeDir="false" afterPath="$PROJECT_DIR$/__tests__/integration/auth/logoutUser.integration.ts" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/common/adapters/jwt.service.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/common/adapters/jwt.service.ts" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/common/config/settings.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/common/config/settings.ts" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/features/users/models/userDb.model.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/features/users/models/userDb.model.ts" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/repositories/devices/devices.repository.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/repositories/devices/devices.repository.ts" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/src/service/login.service.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/service/login.service.ts" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="FileTemplateManagerImpl">
    <option name="RECENT_TEMPLATES">
      <list>
        <option value="TypeScript File" />
      </list>
    </option>
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="GitHubPullRequestSearchHistory">{
  &quot;lastFilter&quot;: {
    &quot;state&quot;: &quot;OPEN&quot;,
    &quot;assignee&quot;: &quot;AlexeyKapralov&quot;
  }
}</component>
  <component name="GithubPullRequestsUISettings">{
  &quot;selectedUrlAndAccountId&quot;: {
    &quot;url&quot;: &quot;git@github.com:AlexeyKapralov/Backend_express_basic.git&quot;,
    &quot;accountId&quot;: &quot;82fae487-a8c9-4bc6-bae2-860aee87b44c&quot;
  }
}</component>
  <component name="ProblemsViewState">
    <option name="selectedTabId" value="CurrentFile" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;customColor&quot;: &quot;&quot;,
  &quot;associatedIndex&quot;: 3
}</component>
  <component name="ProjectId" id="2gMslTgPGDVAl7NZJQIqO1ifamS" />
  <component name="ProjectViewState">
    <option name="autoscrollFromSource" value="true" />
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="openDirectoriesWithSingleClick" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">{
  &quot;keyToString&quot;: {
    &quot;Jest.Authentication User.executor&quot;: &quot;Run&quot;,
    &quot;Jest.Authentication User.should register user (add in db with confirmation code.executor&quot;: &quot;Run&quot;,
    &quot;Jest.Authentication User.should update refresh token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.Authentication User.shouldn't update refresh token after expired time.executor&quot;: &quot;Run&quot;,
    &quot;Jest.Authentication User.shouldn't update refresh token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.Login User.should login user.executor&quot;: &quot;Debug&quot;,
    &quot;Jest.auth test.should auth.executor&quot;: &quot;Debug&quot;,
    &quot;Jest.auth test.should logout.executor&quot;: &quot;Run&quot;,
    &quot;Jest.comments integration tests.shouldn't delete comment with another userId.executor&quot;: &quot;Run&quot;,
    &quot;Jest.comments integration tests.shouldn't update comment with another user.executor&quot;: &quot;Run&quot;,
    &quot;Jest.e2e test for devices.Should delete another devices.executor&quot;: &quot;Debug&quot;,
    &quot;Jest.e2e test for devices.Should delete device.executor&quot;: &quot;Run&quot;,
    &quot;Jest.e2e test for devices.Should get a device list of devices.executor&quot;: &quot;Run&quot;,
    &quot;Jest.e2e test for devices.Should get delete another devices.executor&quot;: &quot;Run&quot;,
    &quot;Jest.e2e test for devices.Shouldn't delete device with token from another user.executor&quot;: &quot;Run&quot;,
    &quot;Jest.e2e test for devices.executor&quot;: &quot;Run&quot;,
    &quot;Jest.integration test delete device.executor&quot;: &quot;Run&quot;,
    &quot;Jest.integration test delete device.should return forbidden.executor&quot;: &quot;Run&quot;,
    &quot;Jest.integration test delete device.should return not found.executor&quot;: &quot;Run&quot;,
    &quot;Jest.integration test delete device.should return unauthorize.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.should logout and error if try refresh token with old token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.should logout user.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.shouldn't logout user with incorrect token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.shouldn't refresh token if token was logout.executor&quot;: &quot;Run&quot;,
    &quot;Jest.logout user integration test.test.executor&quot;: &quot;Debug&quot;,
    &quot;Jest.refresh Token e2e test.executor&quot;: &quot;Run&quot;,
    &quot;Jest.refresh Token integration test.executor&quot;: &quot;Run&quot;,
    &quot;Jest.refresh Token integration test.should refresh token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.refresh token test.should refresh token.executor&quot;: &quot;Run&quot;,
    &quot;Jest.show-delayed-banner.executor&quot;: &quot;Run&quot;,
    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,
    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
    &quot;last_opened_file_path&quot;: &quot;D:/Projects/IT_Incubator_Projects/Social_network_backend/__tests__/e2e/auth&quot;,
    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
    &quot;nodejs.jest.jest_package&quot;: &quot;D:/Projects/IT_Incubator_Projects/Social_network_backend/node_modules/jest&quot;,
    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
    &quot;npm.dev.executor&quot;: &quot;Run&quot;,
    &quot;npm.test coverage.executor&quot;: &quot;Run&quot;,
    &quot;npm.test:e2e.executor&quot;: &quot;Run&quot;,
    &quot;npm.test:integration.executor&quot;: &quot;Run&quot;,
    &quot;npm.watch.executor&quot;: &quot;Run&quot;,
    &quot;settings.editor.selected.configurable&quot;: &quot;project.scopes&quot;,
    &quot;ts.external.directory.path&quot;: &quot;D:\\Projects\\IT_Incubator_Projects\\Social_network_backend\\node_modules\\typescript\\lib&quot;,
    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
  }
}</component>
  <component name="RecentsManager">
    <key name="CopyFile.RECENT_KEYS">
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\e2e\auth" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\src\middlewares" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\integration\auth" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend" />
    </key>
    <key name="MoveFile.RECENT_KEYS">
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\integration\devices" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\unit\blogs" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\integration\comments" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\integration\blogs" />
      <recent name="D:\Projects\IT_Incubator_Projects\Social_network_backend\__tests__\integration\auth" />
    </key>
  </component>
  <component name="RunManager" selected="Jest.logout user integration test.should logout and error if try refresh token with old token">
    <configuration name="auth test.should logout" type="JavaScriptTestRunnerJest" temporary="true" nameIsGenerated="true">
      <node-interpreter value="project" />
      <jest-package value="$PROJECT_DIR$/node_modules/jest" />
      <working-dir value="$PROJECT_DIR$" />
      <envs />
      <scope-kind value="TEST" />
      <test-file value="$PROJECT_DIR$/__tests__/e2e/auth/logout.api.e2e.ts" />
      <test-names>
        <test-name value="auth test" />
        <test-name value="should logout" />
      </test-names>
      <method v="2" />
    </configuration>
    <configuration name="e2e test for devices" type="JavaScriptTestRunnerJest" temporary="true" nameIsGenerated="true">
      <node-interpreter value="project" />
      <jest-package value="$PROJECT_DIR$/node_modules/jest" />
      <working-dir value="$PROJECT_DIR$" />
      <envs />
      <scope-kind value="SUITE" />
      <test-file value="$PROJECT_DIR$/__tests__/e2e/devices/devices.e2e.ts" />
      <test-names>
        <test-name value="e2e test for devices" />
      </test-names>
      <method v="2" />
    </configuration>
    <configuration name="logout user integration test" type="JavaScriptTestRunnerJest" temporary="true" nameIsGenerated="true">
      <node-interpreter value="project" />
      <jest-package value="$PROJECT_DIR$/node_modules/jest" />
      <working-dir value="$PROJECT_DIR$" />
      <envs />
      <scope-kind value="SUITE" />
      <test-file value="$PROJECT_DIR$/__tests__/integration/auth/logoutUser.integration.ts" />
      <test-names>
        <test-name value="logout user integration test" />
      </test-names>
      <method v="2" />
    </configuration>
    <configuration name="logout user integration test.should logout and error if try refresh token with old token" type="JavaScriptTestRunnerJest" temporary="true" nameIsGenerated="true">
      <node-interpreter value="project" />
      <jest-package value="$PROJECT_DIR$/node_modules/jest" />
      <working-dir value="$PROJECT_DIR$" />
      <envs />
      <scope-kind value="TEST" />
      <test-file value="$PROJECT_DIR$/__tests__/integration/auth/logoutUser.integration.ts" />
      <test-names>
        <test-name value="logout user integration test" />
        <test-name value="should logout and error if try refresh token with old token" />
      </test-names>
      <method v="2" />
    </configuration>
    <configuration name="show-delayed-banner" type="JavaScriptTestRunnerJest" temporary="true" nameIsGenerated="true">
      <node-interpreter value="project" />
      <jest-package value="$PROJECT_DIR$/node_modules/jest" />
      <working-dir value="$PROJECT_DIR$" />
      <envs />
      <scope-kind value="SUITE" />
      <test-file value="$PROJECT_DIR$/__tests__/test.e2e.ts" />
      <test-names>
        <test-name value="show-delayed-banner" />
      </test-names>
      <method v="2" />
    </configuration>
    <recent_temporary>
      <list>
        <item itemvalue="Jest.logout user integration test.should logout and error if try refresh token with old token" />
        <item itemvalue="Jest.show-delayed-banner" />
        <item itemvalue="Jest.logout user integration test" />
        <item itemvalue="Jest.e2e test for devices" />
        <item itemvalue="Jest.auth test.should logout" />
      </list>
    </recent_temporary>
  </component>
  <component name="SharedIndexes">
    <attachedChunks>
      <set>
        <option value="bundled-js-predefined-1d06a55b98c1-0b3e54e931b4-JavaScript-WS-241.17011.90" />
      </set>
    </attachedChunks>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="26bf12fa-1c19-43fd-bd80-8f598efb16f4" name="Changes" comment="" />
      <created>1715518933593</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1715518933593</updated>
      <workItem from="1715518935548" duration="3791000" />
      <workItem from="1715629308315" duration="11000" />
      <workItem from="1715629396450" duration="1513000" />
      <workItem from="1715663040945" duration="23984000" />
      <workItem from="1716014567588" duration="35349000" />
      <workItem from="1716268615446" duration="21269000" />
      <workItem from="1716404971231" duration="1088000" />
      <workItem from="1716440091789" duration="1068000" />
      <workItem from="1716441374252" duration="1198000" />
      <workItem from="1716442603849" duration="14000" />
      <workItem from="1716442630751" duration="27993000" />
      <workItem from="1716614930749" duration="123000" />
      <workItem from="1716615062038" duration="60853000" />
      <workItem from="1716786323116" duration="19011000" />
      <workItem from="1716900880629" duration="619000" />
    </task>
    <task id="LOCAL-00001" summary="small fixes">
      <option name="closed" value="true" />
      <created>1715522020569</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1715522020569</updated>
    </task>
    <task id="LOCAL-00002" summary="add logout and refresh token endpoints and tests for these endpoints, also add fake timers for tests">
      <option name="closed" value="true" />
      <created>1716116099381</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1716116099381</updated>
    </task>
    <task id="LOCAL-00003" summary="add custom rate limit">
      <option name="closed" value="true" />
      <created>1716317761597</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1716317761597</updated>
    </task>
    <task id="LOCAL-00004" summary="Update login service and refactor tests&#10;&#10;The code has been updated to enhance the login service that now receives additional parameters. Related tests have been refactored for this change. Files related to handling blocklist functionality have been removed. The auth test file has been renamed, and a new test file for refresh token has been added. The integration test for logout has been updated. The mechanism to handle devices for security has been introduced.">
      <option name="closed" value="true" />
      <created>1716754647915</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1716754647915</updated>
    </task>
    <option name="localTasksCounter" value="5" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="small fixes" />
    <MESSAGE value="add logout and refresh token endpoints and tests for these endpoints, also add fake timers for tests" />
    <MESSAGE value="add custom rate limit" />
    <MESSAGE value="Updated authentication functionality and test refactoring&#10;&#10;The commit introduces changes including updating the loginController to include user agent and IP, renaming and modifying test files for better handling and assertions. It also introduces refreshToken integration tests and updates a comment in authManager.test.ts. A significant portion of the changes involves updating test cases to adapt to the new token structure, ensuring accurate verification of access and refresh tokens." />
    <MESSAGE value="Update login service and refactor tests&#10;&#10;The code has been updated to enhance the login service that now receives additional parameters. Related tests have been refactored for this change. Files related to handling blocklist functionality have been removed. The auth test file has been renamed, and a new test file for refresh token has been added. The integration test for logout has been updated. The mechanism to handle devices for security has been introduced." />
    <option name="LAST_COMMIT_MESSAGE" value="Update login service and refactor tests&#10;&#10;The code has been updated to enhance the login service that now receives additional parameters. Related tests have been refactored for this change. Files related to handling blocklist functionality have been removed. The auth test file has been renamed, and a new test file for refresh token has been added. The integration test for logout has been updated. The mechanism to handle devices for security has been introduced." />
  </component>
</project>